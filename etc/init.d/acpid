#!/sbin/openrc-run
# Copyright 1999-2016 Gentoo Foundation
# Distributed under the terms of the GNU General Public License v2

extra_started_commands="reload"
supervisor="supervise-daemon"
command="/usr/sbin/acpid"
command_args="${ACPID_ARGS}"
command_args_foreground="--foreground"
pidfile="/run/acpid.pid"
description="Daemon for Advanced Configuration and Power Interface"

depend() {
	need localmount
	use logger
}

reload() {
	ebegin "Reloading acpid configuration"
	# start-stop-daemon --exec $command --signal HUP
	${supervisor} ${RC_SVCNAME} --signal HUP --pidfile "${pidfile}"
	eend $?
}
